{% extends "openbudgetapp/base.html" %}

{% block title %}Budget Report{% endblock %}
{% block content %}

<script type="text/javascript">
var chart;


	
function makechart() {	chart = new Highcharts.StockChart({
		chart: {
			renderTo: 'container',
			defaultSeriesType: 'line',
		},
		
		
		title: {
			text: '{{name}}',
			x: -20 //center
		},

		subtitle: {
			text: '',
			x: -20
		},

		xAxis: {
			maxZoom : 14 * 24 * 3600000 // fourteen days

		},

		rangeSelector: {
	        selected: 4
	    },
		
		yAxis: {
			title: {
				text: 'Return'
			},
			labels: {
	    		formatter: function() {
    			return (this.value > 0 ? '+' : '') + this.value + '%';
    			}
			},
    		plotLines: [{
	    		value: 0,
	    		width: 2,
	    		color: 'silver'
	    	}]
	    },
		
	
		plotOptions: {
		    	series: {
		    		
		    	}
		},
		
		tooltip: {
	    	pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}%</b><br/>',
	    	yDecimals: 2
	    },
	
		legend: {
			layout: 'vertical',
			align: 'right',
			verticalAlign: 'top',
			x: -10,
			y: 100,
			borderWidth: 0
		},
	
		series: [
			{name: 'actual',
				//data: [1, 27, 34, 39, 46, 56]
			data: [{{ actual|join:"," }}]
			},
			{name: 'budget',
			//data: [1, 27, 34, 39, 46, 56]
			data: [{{ budget|join:"," }}]
			},
		]
	});
};

</script>
<div id="container" style="width: 700px;height: 500px"></div>

{% endblock %}